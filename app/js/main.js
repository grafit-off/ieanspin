document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".body"),e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=(document.documentElement.style,null!=navigator.userAgent.match(/iPhone/i)),n=null!=navigator.userAgent.match(/iPad/i),l=null!=navigator.userAgent.match(/iPod/i);let c=()=>{let t=window.scrollY;document.querySelector("html").style.scrollBehavior="auto",document.body.classList.add("ios-lock"),document.body.dataset.position=t,document.body.style.top=-t+"px"},i=()=>{let t=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("ios-lock"),window.scroll({top:t,left:0}),document.querySelector("html").removeAttribute("style"),document.body.removeAttribute("data-position")};const s=document.querySelectorAll(".animate-item");if(e)s.forEach(t=>{t.classList.add("animated")});else{const t=(t,e,o,n=0)=>{let l=t.getBoundingClientRect();t.dataset.delay&&(n=t.dataset.delay),l.top+l.height-l.height*o>0&&window.innerHeight-l.top-l.height*e>0?(t.classList.add("animated"),t.style.transitionDelay=n+"s"):t.hasAttribute("data-animation-once")||t.classList.remove("animated")};0!=s.length&&(s.forEach(e=>{t(e,.5,.5)}),document.addEventListener("scroll",()=>{s.forEach(e=>{t(e,.5,.5)})}))}const a=document.querySelectorAll(".modal-btn"),d=document.querySelectorAll(".fixed-padding"),r=document.querySelectorAll(".close-modal");let m,u,h,p=!0,y=!1;if(a.length>0)for(let t=0;t<a.length;t++){const e=a[t];e.addEventListener("click",(function(t){const o=e.dataset.path,n=document.getElementById(o);null!=n?(f(n),setTimeout(()=>{r.forEach(t=>{t.focus()})},100),t.preventDefault()):console.log("Модальное окно не существует! "+n)}))}if(r.length>0)for(let t=0;t<r.length;t++){const e=r[t];m=e,e.addEventListener("click",(function(t){g(e.closest(".modal")),t.preventDefault()}))}function f(e){if(e&&p){h=document.activeElement;const i=document.querySelector(".modal.open");i?g(i,!1):function(){const e=window.innerWidth-t.offsetWidth+"px";if(d.length>0)for(let t=0;t<d.length;t++){d[t].style.paddingRight=e}t.style.paddingRight=e,t.classList.contains("lock")?u=!1:(u=!0,o||n||l?c():t.classList.add("lock"));p=!1,setTimeout((function(){p=!0}),800)}(),e.classList.add("open"),e.addEventListener("mousedown",(function(t){!1===y?(t.target.closest(".modal__content")||g(t.target.closest(".modal")),y=!0):setTimeout(()=>{y=!1},800)}))}}function g(e,c=!0){p&&(e.classList.remove("open"),c&&setTimeout((function(){if(d.length>0)for(let t=0;t<d.length;t++)d[t].style.paddingRight="0px";t.style.paddingRight="0px",1==u&&(o||n||l?i():t.classList.remove("lock"))}),800)),setTimeout((function(){h.focus()}),800)}document.addEventListener("keydown",(function(t){if(document.querySelector(".modal.open")&&27===t.which){g(document.querySelector(".modal.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)});
//# sourceMappingURL=main.js.map
