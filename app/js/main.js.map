{"version":3,"sources":["main.js"],"names":["document","addEventListener","isMobileDevice","test","navigator","userAgent","isSmoothScrollSupported","documentElement","style","media","window","matchMedia","body","querySelector","burgerBtn","header","headerNav","qa","toTopBtn","burgerCl","[object Object]","btn","list","this","opened","btnDisabled","scrollWidth","innerWidth","clientWidth","toggle","disableBtn","paddingRight","classList","add","setAttribute","remove","contains","close","open","disabled","qaCl","selector","qaContainer","btns","querySelectorAll","items","preview","previewElements","previewItems","prevTargets","forEach","el","dataset","path","textContent","innerHTML","target","ariaExpanded","previewElementsWidth","index","length","element","offsetWidth","line","question","getPath","transform","parseInt","setClasses","computePreviewTranslateWidth","removePrevClasses","setPrevTargetObj","insertPreviewElements","showTarget","ScrollDebounce","time","functions","timeOut","clearTimeout","setTimeout","links","activeClass","offsetDifference","i","hash","scrollY","offsetTop","showActiveLink","matches","scrollToTarget","id","bodyRect","getBoundingClientRect","offset","top","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","Math","easeInOutQuad","t","b","c","d","to","duration","start","scrollTop","parentNode","change","currentTime","animateScroll","val","amount","scrollToIos","pos","scrollTo","behavior","match","animItems","elementInViewport","offsetBottom","delay","bounds","height","innerHeight","transitionDelay","hasAttribute","e","preventDefault","closest","init"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t// // Burger\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.btnDisabled = false;\r\n\t\tthis.scrollWidth = window.innerWidth - document.body.clientWidth;\r\n\r\n\t\tthis.btn.addEventListener('click', () => {\r\n\t\t\tthis.toggle();\r\n\t\t})\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.scrollWidth) {\r\n\t\t\tdocument.body.style.paddingRight = `${this.scrollWidth}px`\r\n\t\t}\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\r\n\t\tbody.classList.add('lock')\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.scrollWidth) {\r\n\t\t\tdocument.body.style.paddingRight = null;\r\n\t\t}\r\n\t\tbody.classList.remove('lock')\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\r\n\t// // QA\r\n\r\nclass Qa {\r\n\tconstructor(selector) {\r\n\t\tthis.qaContainer = selector;\r\n\t\tthis.btns = this.qaContainer.querySelectorAll('.topics__btn');\r\n\t\tthis.items = this.qaContainer.querySelectorAll(`.qa-item`);\r\n\t\tthis.preview = this.qaContainer.querySelector('.qa__topics-line');\r\n\t\tthis.previewElements = ``;\r\n\t\tthis.previewItems = null;\r\n\t\tthis.prevTargets = null;\r\n\t}\r\n\r\n\tinsertPreviewElements() {\r\n\t\tthis.btns.forEach((el) => {\r\n\t\t\tthis.previewElements += `\r\n\t\t\t<span class=\"qa__topic\" data-path=\"${el.dataset.path}\">\r\n\t\t\t\t\t${el.textContent}</span>\r\n\t\t\t`\r\n\t\t});\r\n\t\tthis.preview.innerHTML = this.previewElements;\r\n\t\tthis.previewItems = this.preview.querySelectorAll(`.qa__topic`);\r\n\t}\r\n\tgetPath(target) {\r\n\t\treturn target.dataset.path;\r\n\t}\r\n\tsetClasses(target, path) {\r\n\t\ttarget.classList.add('topics__btn--active');\r\n\t\ttarget.disabled = true;\r\n\t\ttarget.ariaExpanded = true;\r\n\t\tdocument.querySelector(`.qa-item[data-path=\"${path}\"]`).classList.add('qa-item--active');\r\n\t\tthis.preview.querySelector(`.qa__topic[data-path=\"${path}\"]`).classList.add('qa__topic--active');\r\n\t}\r\n\r\n\tcomputePreviewTranslateWidth(path) {\r\n\t\tlet previewElementsWidth = 0;\r\n\t\tfor (let index = 0; index < this.previewItems.length; index++) {\r\n\t\t\tconst element = this.previewItems[index];\r\n\t\t\tif (element.dataset.path === path) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tpreviewElementsWidth += element.offsetWidth;\r\n\t\t}\r\n\t\treturn previewElementsWidth;\r\n\t}\r\n\r\n\tsetPrevTargetObj(target, path) {\r\n\t\tthis.prevTargets = {\r\n\t\t\tbtn: target,\r\n\t\t\tline: this.preview.querySelector(`.qa__topic[data-path=\"${path}\"]`),\r\n\t\t\tquestion: this.qaContainer.querySelector(`.qa-item[data-path=\"${path}\"]`)\r\n\t\t}\r\n\t}\r\n\r\n\tremovePrevClasses() {\r\n\t\tif (this.prevTargets) {\r\n\t\t\tthis.prevTargets.btn.classList.remove('topics__btn--active');\r\n\t\t\tthis.prevTargets.btn.ariaExpanded = false;\r\n\t\t\tthis.prevTargets.btn.disabled = false;\r\n\t\t\tthis.prevTargets.line.classList.remove('qa__topic--active');\r\n\t\t\tthis.prevTargets.question.classList.remove('qa-item--active');\r\n\t\t}\r\n\t}\r\n\r\n\tshowTarget(target) {\r\n\t\tconst path = this.getPath(target);\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tel.style.transform = `translateX(-${parseInt(path) - 1}00%)`;\r\n\t\t});\r\n\t\tthis.setClasses(target, path);\r\n\t\tthis.preview.style.transform = `translateX(-${this.computePreviewTranslateWidth(path)}px)`;\r\n\t\tthis.removePrevClasses();\r\n\t\tthis.setPrevTargetObj(target, path);\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.insertPreviewElements();\r\n\t\tthis.showTarget(this.qaContainer.querySelector('.topics__btn[data-path=\"1\"]'));\r\n\t}\r\n}\r\n;\r\n\t// // Debounce\r\nclass Debounce {\r\n\tconstructor(time = 100, functions = () => { }) {\r\n\t\tthis.time = time;\r\n\t\tthis.functions = functions;\r\n\t\tthis.timeOut = null;\r\n\t}\r\n\r\n\tinit() {\r\n\t\tclearTimeout(this.timeOut);\r\n\t\tthis.timeOut = setTimeout(() => {\r\n\t\t\tthis.functions();\r\n\t\t}, this.time);\r\n\t}\r\n}\r\n;\r\n\t// // Variables\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst media = window.matchMedia(\"(max-width: 767px)\");\r\n\r\nconst body = document.querySelector('.body');\r\nconst burgerBtn = document.querySelector('.burger');\r\nconst header = document.querySelector('.header');\r\nconst headerNav = document.querySelector('.nav');\r\nconst qa = document.querySelector('.qa__container');\r\nconst toTopBtn = document.querySelector('.footer__btn');\r\n\r\nconst burgerCl = new Burger(burgerBtn, headerNav);\r\nconst qaCl = new Qa(qa);\r\nconst ScrollDebounce = new Debounce(100, () => {\r\n\tshowActiveLink(document.querySelectorAll('.nav__link'), 'nav__link--active', media.matches ? 55 : 85);\r\n});\r\n;\r\n\t// // Functions\r\nfunction showActiveLink(links, activeClass, offsetDifference) {\r\n\tfor (let i = links.length - 1; i >= 0; i--) {\r\n\t\tlet target = document.querySelector(links[i].hash);\r\n\t\tif (window.scrollY > target.offsetTop - offsetDifference) {\r\n\t\t\tif (document.querySelector(`.${activeClass}`)) {\r\n\t\t\t\tdocument.querySelector(`.${activeClass}`).classList.remove(`${activeClass}`);\r\n\t\t\t}\r\n\t\t\tlinks[i].classList.add(`${activeClass}`);\r\n\t\t\tbreak;\r\n\t\t} else {\r\n\t\t\tif (document.querySelector(`.${activeClass}`)) {\r\n\t\t\t\tdocument.querySelector(`.${activeClass}`).classList.remove(`${activeClass}`);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction scrollToTarget(id, media) {\r\n\tconst target = document.querySelector(id);\r\n\r\n\tif (!isSmoothScrollSupported && target !== null) {\r\n\t\tconst bodyRect = document.body.getBoundingClientRect();\r\n\t\tconst elemRect = target.getBoundingClientRect();\r\n\t\tconst offset = elemRect.top - bodyRect.top;\r\n\r\n\t\tconst requestAnimFrame = (function () {\r\n\t\t\treturn window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\r\n\t\t\t\twindow.setTimeout(callback, 1000 / 60);\r\n\t\t\t};\r\n\t\t})();\r\n\t\tMath.easeInOutQuad = function (t, b, c, d) {\r\n\t\t\tt /= d / 2;\r\n\t\t\tif (t < 1) {\r\n\t\t\t\treturn c / 2 * t * t + b\r\n\t\t\t}\r\n\t\t\tt--;\r\n\t\t\treturn -c / 2 * (t * (t - 2) - 1) + b;\r\n\t\t};\r\n\t\tfunction scrollToIos(to, callback, duration) {\r\n\t\t\tfunction move(amount) {\r\n\t\t\t\tdocument.documentElement.scrollTop = amount;\r\n\t\t\t\tdocument.body.parentNode.scrollTop = amount;\r\n\t\t\t\tdocument.body.scrollTop = amount;\r\n\t\t\t}\r\n\r\n\t\t\tfunction position() {\r\n\t\t\t\treturn document.documentElement.scrollTop || document.body.parentNode.scrollTop || document.body.scrollTop;\r\n\t\t\t}\r\n\t\t\tlet start = position(),\r\n\t\t\t\tchange = to - start,\r\n\t\t\t\tcurrentTime = 0,\r\n\t\t\t\tincrement = 20;\r\n\t\t\tduration = (typeof (duration) === 'undefined') ? 500 : duration;\r\n\r\n\t\t\tlet animateScroll = function () {\r\n\t\t\t\tcurrentTime += increment;\r\n\t\t\t\tlet val = Math.easeInOutQuad(currentTime, start, change, duration);\r\n\t\t\t\tmove(val);\r\n\t\t\t\tif (currentTime < duration) {\r\n\t\t\t\t\trequestAnimFrame(animateScroll);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (callback && typeof (callback) === 'function') {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tanimateScroll();\r\n\t\t}\r\n\t\tscrollToIos(offset - 50, null, 500);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (target !== null) {\r\n\t\tlet pos = target.offsetTop - (media.matches ? 50 : 80);\r\n\t\twindow.scrollTo({\r\n\t\t\ttop: pos,\r\n\t\t\tbehavior: 'smooth'\r\n\t\t});\r\n\t}\r\n};\r\n\t// // scrollLockIOS\r\n// Iphones\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n}\r\n\r\n// Слушатель на один элемент\r\nlet scrollLock_BtnListener = (item) => {\r\n\titem.addEventListener('click', (e) => {\r\n\t\titem.classList.toggle('scroll')\r\n\t\tif (item.classList.contains('scroll')) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tenableScroll();\r\n\t\t}\r\n\t});\r\n};\r\n\t// // Animate On Scroll\r\n// class=\"animate-item\" data-animation='from-left'  data-delay=\"0.5\" data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\nif (!isMobileDevice) {\r\n\tconst elementInViewport = (element, offsetTop, offsetBottom, delay = 0) => {\r\n\t\tlet bounds = element.getBoundingClientRect();\r\n\t\tif (element.dataset.delay) delay = element.dataset.delay;\r\n\r\n\t\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\t\telement.classList.add(\"animated\");\r\n\t\t\telement.style.transitionDelay = `${delay}s`;\r\n\t\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\t\telement.classList.remove(\"animated\");\r\n\t\t}\r\n\t};\r\n\tif (animItems.length != 0) {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t})\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tanimItems.forEach(el => {\r\n\t\t\t\telementInViewport(el, .5, .5);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n} else {\r\n\tanimItems.forEach((el) => {\r\n\t\tel.classList.add('animated')\r\n\t});\r\n}\r\n// -- //\r\n;\r\n\t// -- //\r\n\r\n\tqa.addEventListener('click', (e) => {\r\n\t\tconst target = e.target;\r\n\t\tif (target.classList.contains('topics__btn')) {\r\n\t\t\tqaCl.showTarget(target);\r\n\t\t}\r\n\t})\r\n\r\n\theader.addEventListener('click', (e) => {\r\n\t\tconst target = e.target;\r\n\r\n\t\tif (target.classList.contains('nav__link')) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet hash = target.hash;\r\n\t\t\tscrollToTarget(hash, media);\r\n\t\t\tmedia.matches ? burgerCl.close() : null;\r\n\t\t}\r\n\t\tif (target.closest('.header__logo')) {\r\n\t\t\te.preventDefault();\r\n\t\t\tscrollToTarget('#hero', media);\r\n\t\t}\r\n\t})\r\n\r\n\ttoTopBtn.addEventListener('click', () => {\r\n\t\tscrollToTarget('#hero', media);\r\n\t})\r\n\r\n\tqaCl.init();\r\n\r\n\twindow.addEventListener('scroll', () => {\r\n\t\tScrollDebounce.init();\r\n\t})\r\n})\r\n"]}