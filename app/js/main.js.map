{"version":3,"sources":["main.js"],"names":["document","addEventListener","body","querySelector","isMobileDevice","test","navigator","userAgent","burgerBtn","documentElement","style","headerNav","qa","[object Object]","btn","list","this","opened","btnDisabled","scrollWidth","window","innerWidth","clientWidth","toggle","disableBtn","paddingRight","classList","add","setAttribute","remove","contains","close","open","disabled","qaCl","selector","qaContainer","btns","querySelectorAll","items","preview","previewElements","previewItems","prevTargets","forEach","el","dataset","path","textContent","innerHTML","target","ariaExpanded","previewElementsWidth","index","length","element","offsetWidth","line","question","getPath","transform","parseInt","setClasses","computePreviewTranslateWidth","removePrevClasses","setPrevTargetObj","insertPreviewElements","showTarget","match","animItems","elementInViewport","offsetTop","offsetBottom","delay","bounds","getBoundingClientRect","top","height","innerHeight","transitionDelay","hasAttribute","e","init"],"mappings":"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","file":"main.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n\t// Includes\r\n\t// // Burger\r\nclass Burger {\r\n\tconstructor(btn, list) {\r\n\t\tthis.btn = btn;\r\n\t\tthis.list = list;\r\n\t\tthis.opened = false;\r\n\t\tthis.btnDisabled = false;\r\n\t\tthis.scrollWidth = window.innerWidth - document.body.clientWidth;\r\n\r\n\t\tthis.btn.addEventListener('click', () => {\r\n\t\t\tthis.toggle();\r\n\t\t})\r\n\t}\r\n\r\n\topen() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.scrollWidth) {\r\n\t\t\tdocument.body.style.paddingRight = `${this.scrollWidth}px`\r\n\t\t}\r\n\t\tthis.btn.classList.add('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', true);\r\n\t\tthis.list.classList.add('nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', false);\r\n\r\n\t\tbody.classList.add('lock')\r\n\t}\r\n\r\n\tclose() {\r\n\t\tthis.disableBtn();\r\n\t\tif (this.scrollWidth) {\r\n\t\t\tdocument.body.style.paddingRight = null;\r\n\t\t}\r\n\t\tbody.classList.remove('lock')\r\n\t\tthis.btn.classList.remove('burger--active');\r\n\t\tthis.btn.setAttribute('aria-expanded', false);\r\n\t\tthis.list.classList.remove('nav--active');\r\n\t\tthis.list.setAttribute('aria-hidden', true);\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tif (this.btn.classList.contains('burger--active')) {\r\n\t\t\tthis.close();\r\n\t\t} else {\r\n\t\t\tthis.open();\r\n\t\t}\r\n\t}\r\n\r\n\tdisableBtn() {\r\n\t\tthis.btn.disabled = true;\r\n\t\tthis.list.addEventListener('transitionend', () => {\r\n\t\t\tthis.btn.disabled = false;\r\n\t\t})\r\n\t}\r\n};\r\n\t// // QA\r\n\r\nclass Qa {\r\n\tconstructor(selector) {\r\n\t\tthis.qaContainer = selector;\r\n\t\tthis.btns = this.qaContainer.querySelectorAll('.topics__btn');\r\n\t\tthis.items = this.qaContainer.querySelectorAll(`.qa-item`);\r\n\t\tthis.preview = this.qaContainer.querySelector('.qa__topics-line');\r\n\t\tthis.previewElements = ``;\r\n\t\tthis.previewItems = null;\r\n\t\tthis.prevTargets = null;\r\n\t}\r\n\r\n\tinsertPreviewElements() {\r\n\t\tthis.btns.forEach((el) => {\r\n\t\t\tthis.previewElements += `\r\n\t\t\t<span class=\"qa__topic\" data-path=\"${el.dataset.path}\">\r\n\t\t\t\t\t${el.textContent}</span>\r\n\t\t\t`\r\n\t\t});\r\n\t\tthis.preview.innerHTML = this.previewElements;\r\n\t\tthis.previewItems = this.preview.querySelectorAll(`.qa__topic`);\r\n\t}\r\n\tgetPath(target) {\r\n\t\treturn target.dataset.path;\r\n\t}\r\n\tsetClasses(target, path) {\r\n\t\ttarget.classList.add('topics__btn--active');\r\n\t\ttarget.disabled = true;\r\n\t\ttarget.ariaExpanded = true;\r\n\t\tdocument.querySelector(`.qa-item[data-path=\"${path}\"]`).classList.add('qa-item--active');\r\n\t\tthis.preview.querySelector(`.qa__topic[data-path=\"${path}\"]`).classList.add('qa__topic--active');\r\n\t}\r\n\r\n\tcomputePreviewTranslateWidth(path) {\r\n\t\tlet previewElementsWidth = 0;\r\n\t\tfor (let index = 0; index < this.previewItems.length; index++) {\r\n\t\t\tconst element = this.previewItems[index];\r\n\t\t\tif (element.dataset.path === path) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tpreviewElementsWidth += element.offsetWidth;\r\n\t\t}\r\n\t\treturn previewElementsWidth;\r\n\t}\r\n\r\n\tsetPrevTargetObj(target, path) {\r\n\t\tthis.prevTargets = {\r\n\t\t\tbtn: target,\r\n\t\t\tline: this.preview.querySelector(`.qa__topic[data-path=\"${path}\"]`),\r\n\t\t\tquestion: this.qaContainer.querySelector(`.qa-item[data-path=\"${path}\"]`)\r\n\t\t}\r\n\t}\r\n\r\n\tremovePrevClasses() {\r\n\t\tif (this.prevTargets) {\r\n\t\t\tthis.prevTargets.btn.classList.remove('topics__btn--active');\r\n\t\t\tthis.prevTargets.btn.ariaExpanded = false;\r\n\t\t\tthis.prevTargets.btn.disabled = false;\r\n\t\t\tthis.prevTargets.line.classList.remove('qa__topic--active');\r\n\t\t\tthis.prevTargets.question.classList.remove('qa-item--active');\r\n\t\t}\r\n\t}\r\n\r\n\tshowTarget(target) {\r\n\t\tconst path = this.getPath(target);\r\n\t\tthis.items.forEach((el) => {\r\n\t\t\tel.style.transform = `translateX(-${parseInt(path) - 1}00%)`;\r\n\t\t});\r\n\t\tthis.setClasses(target, path);\r\n\t\tthis.preview.style.transform = `translateX(-${this.computePreviewTranslateWidth(path)}px)`;\r\n\t\tthis.removePrevClasses();\r\n\t\tthis.setPrevTargetObj(target, path);\r\n\t}\r\n\r\n\tinit() {\r\n\t\tthis.insertPreviewElements();\r\n\t\tthis.showTarget(this.qaContainer.querySelector('.topics__btn[data-path=\"1\"]'));\r\n\t}\r\n}\r\n\r\n/*\r\n\r\n\tqa.addEventListener('click', (e) => {\r\n\t\tconst target = e.target;\r\n\t\tif (target.classList.contains('topics__btn')) {\r\n\t\t\tif (prevTargets) {\r\n\t\t\t\tprevTargets.btn.classList.remove('topics__btn--active');\r\n\t\t\t\tprevTargets.btn.ariaExpanded = false;\r\n\t\t\t\tprevTargets.line.classList.remove('qa__topic--active');\r\n\t\t\t\tprevTargets.question.classList.remove('qa-item--active');\r\n\t\t\t}\r\n\t\t\tshowQa(e.target);\r\n\t\t}\r\n\t})\r\n\r\n\tconst createQaLine = () => {\r\n\t\tlet qaLineEls = '';\r\n\t\tqaBtns.forEach((el) => {\r\n\t\t\tqaLineEls += `\r\n\t\t\t<span class=\"qa__topic\" data-path=\"${el.dataset.path}\">\r\n\t\t\t\t\t${el.textContent}\r\n\t\t\t\t</span>\r\n\t\t\t`\r\n\t\t});\r\n\t\tqaLine.innerHTML = qaLineEls;\r\n\t}\r\n\tcreateQaLine();\r\n\tlet prevTargets;\r\n\tconst showQa = (target) => {\r\n\t\tconst path = target.dataset.path;\r\n\r\n\t\tdocument.querySelectorAll(`.qa-item`).forEach((el) => {\r\n\t\t\tel.style.transform = `translateX(-${parseInt(path) - 1}00%)`;\r\n\t\t});\r\n\r\n\t\ttarget.classList.add('topics__btn--active');\r\n\t\ttarget.ariaExpanded = true;\r\n\t\tdocument.querySelector(`.qa-item[data-path=\"${path}\"]`).classList.add('qa-item--active');\r\n\t\tqaLine.querySelector(`.qa__topic[data-path=\"${path}\"]`).classList.add('qa__topic--active');\r\n\r\n\t\tlet elWidth = 0;\r\n\r\n\t\tfor (let index = 0; index < qaLine.querySelectorAll(`.qa__topic`).length; index++) {\r\n\t\t\tconst element = qaLine.querySelectorAll(`.qa__topic`)[index];\r\n\t\t\tif (element.dataset.path === path) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telWidth += element.offsetWidth;\r\n\t\t}\r\n\t\tqaLine.style.transform = `translateX(-${elWidth}px)`;\r\n\r\n\t\tprevTargets = {\r\n\t\t\tbtn: target,\r\n\t\t\tline: qaLine.querySelector(`.qa__topic[data-path=\"${path}\"]`),\r\n\t\t\tquestion: document.querySelector(`.qa-item[data-path=\"${path}\"]`)\r\n\t\t};\r\n\t}\r\n\tshowQa(document.querySelector('.topics__btn[data-path=\"1\"]'))\r\n\r\n*/;\r\n\t// // Variables\r\nconst body = document.querySelector('.body');\r\nconst isMobileDevice = (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));\r\nconst isSmoothScrollSupported = 'scrollBehavior' in document.documentElement.style;\r\nconst burgerBtn = document.querySelector('.burger');\r\nconst headerNav = document.querySelector('.nav');\r\nconst burgerCl = new Burger(burgerBtn, headerNav);\r\nconst qa = document.querySelector('.qa__container');\r\nconst qaCl = new Qa(qa);\r\n\r\n;\r\n\t// // scrollLockIOS\r\n// Iphones\r\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\r\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\r\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\r\n\r\n// Выключение скролла\r\nlet disableScroll = () => {\r\n\tlet pagePosition = window.scrollY;\r\n\tdocument.querySelector('html').style.scrollBehavior = 'auto';\r\n\tdocument.body.classList.add('ios-lock');\r\n\tdocument.body.dataset.position = pagePosition;\r\n\tdocument.body.style.top = -pagePosition + 'px';\r\n}\r\n\r\n// Включение скролла\r\nlet enableScroll = () => {\r\n\tlet pagePosition = parseInt(document.body.dataset.position, 10);\r\n\tdocument.body.style.top = 'auto';\r\n\tdocument.body.classList.remove('ios-lock');\r\n\twindow.scroll({ top: pagePosition, left: 0 });\r\n\tdocument.querySelector('html').removeAttribute('style');\r\n\tdocument.body.removeAttribute('data-position');\r\n}\r\n\r\n// Слушатель на один элемент\r\nlet scrollLock_BtnListener = (item) => {\r\n\titem.addEventListener('click', (e) => {\r\n\t\titem.classList.toggle('scroll')\r\n\t\tif (item.classList.contains('scroll')) {\r\n\t\t\tdisableScroll();\r\n\t\t} else {\r\n\t\t\tenableScroll();\r\n\t\t}\r\n\t});\r\n};\r\n\t// // Animate On Scroll\r\n// class=\"animate-item\" data-animation='from-left'  data-delay=\"0.5\" data-animation-once\r\nconst animItems = document.querySelectorAll(\".animate-item\");\r\nif (!isMobileDevice) {\r\n\tconst elementInViewport = (element, offsetTop, offsetBottom, delay = 0) => {\r\n\t\tlet bounds = element.getBoundingClientRect();\r\n\t\tif (element.dataset.delay) delay = element.dataset.delay;\r\n\r\n\t\tif ((bounds.top + bounds.height - bounds.height * offsetBottom > 0) && (window.innerHeight - bounds.top - bounds.height * offsetTop > 0)) {\r\n\t\t\telement.classList.add(\"animated\");\r\n\t\t\telement.style.transitionDelay = `${delay}s`;\r\n\t\t} else if (!element.hasAttribute(\"data-animation-once\")) {\r\n\t\t\telement.classList.remove(\"animated\");\r\n\t\t}\r\n\t};\r\n\tif (animItems.length != 0) {\r\n\t\tanimItems.forEach(el => {\r\n\t\t\telementInViewport(el, .5, .5);\r\n\t\t})\r\n\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\tanimItems.forEach(el => {\r\n\t\t\t\telementInViewport(el, .5, .5);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n} else {\r\n\tanimItems.forEach((el) => {\r\n\t\tel.classList.add('animated')\r\n\t});\r\n}\r\n// -- //\r\n;\r\n\t// -- //\r\n\r\n\tqa.addEventListener('click', (e) => {\r\n\t\tconst target = e.target;\r\n\t\tif (target.classList.contains('topics__btn')) {\r\n\t\t\tqaCl.showTarget(target);\r\n\t\t}\r\n\t})\r\n\tqaCl.init();\r\n})\r\n\r\n/*\r\n\tqa.addEventListener('click', (e) => {\r\n\t\tconst target = e.target;\r\n\t\tif (target.classList.contains('topics__btn')) {\r\n\t\t\tif (prevTargets) {\r\n\t\t\t\tprevTargets.btn.classList.remove('topics__btn--active');\r\n\t\t\t\tprevTargets.btn.ariaExpanded = false;\r\n\t\t\t\tprevTargets.line.classList.remove('qa__topic--active');\r\n\t\t\t\tprevTargets.question.classList.remove('qa-item--active');\r\n\t\t\t}\r\n\t\t\tshowQa(e.target);\r\n\t\t}\r\n\t})\r\n\r\n\tconst createQaLine = () => {\r\n\t\tlet qaLineEls = '';\r\n\t\tqaBtns.forEach((el) => {\r\n\t\t\tqaLineEls += `\r\n\t\t\t<span class=\"qa__topic\" data-path=\"${el.dataset.path}\">\r\n\t\t\t\t\t${el.textContent}\r\n\t\t\t\t</span>\r\n\t\t\t`\r\n\t\t});\r\n\t\tqaLine.innerHTML = qaLineEls;\r\n\t}\r\n\tcreateQaLine();\r\n\tlet prevTargets;\r\n\tconst showQa = (target) => {\r\n\t\tconst path = target.dataset.path;\r\n\r\n\t\tdocument.querySelectorAll(`.qa-item`).forEach((el) => {\r\n\t\t\tel.style.transform = `translateX(-${parseInt(path) - 1}00%)`;\r\n\t\t});\r\n\r\n\t\ttarget.classList.add('topics__btn--active');\r\n\t\ttarget.ariaExpanded = true;\r\n\t\tdocument.querySelector(`.qa-item[data-path=\"${path}\"]`).classList.add('qa-item--active');\r\n\t\tqaLine.querySelector(`.qa__topic[data-path=\"${path}\"]`).classList.add('qa__topic--active');\r\n\r\n\t\tlet elWidth = 0;\r\n\r\n\t\tfor (let index = 0; index < qaLine.querySelectorAll(`.qa__topic`).length; index++) {\r\n\t\t\tconst element = qaLine.querySelectorAll(`.qa__topic`)[index];\r\n\t\t\tif (element.dataset.path === path) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\telWidth += element.offsetWidth;\r\n\t\t}\r\n\t\tqaLine.style.transform = `translateX(-${elWidth}px)`;\r\n\r\n\t\tprevTargets = {\r\n\t\t\tbtn: target,\r\n\t\t\tline: qaLine.querySelector(`.qa__topic[data-path=\"${path}\"]`),\r\n\t\t\tquestion: document.querySelector(`.qa-item[data-path=\"${path}\"]`)\r\n\t\t};\r\n\t}\r\n\tshowQa(document.querySelector('.topics__btn[data-path=\"1\"]'))\r\n*/"]}